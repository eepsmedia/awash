<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Awash in Data - 26&nbsp; The Scrambler: Randomization Tests</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./07.30-bootstrap.html" rel="next">
<link href="./07.10-binomial.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="awash.css">
</head>

<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">The Scrambler: Randomization Tests</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Awash in Data</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./01-lesson-part.html" class="sidebar-item-text sidebar-link">Lessons</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01.10-start.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Getting Started with CODAP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01.20-teens.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">800 Children and Teens, part&nbsp;one</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01.30-assignment-1.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">A First Assignment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01.40-teens2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">800 Children and Teens, part&nbsp;two</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01.50-assignment-2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">A Second Assignment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01.60-project.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">A Small Project</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./03-datamove-part.html" class="sidebar-item-text sidebar-link">Data Moves</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03.10-Filtering.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Filtering and Selection</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03.20-Grouping.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Grouping</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03.30-Calculating.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Calculating and Recoding</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03.40-Summarizing.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Summarizing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03.50-Joining.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Joining</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03.60-preparing-and-cleaning.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Munging data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03.70-visualization.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Visualizing and Communicating</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./04-codap-part.html" class="sidebar-item-text sidebar-link">CODAP Topics</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.10-types-of-attributes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Types of Attributes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.20-save-import-export-share.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Files: Copy, Save, Import, Export, Share</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.30-screen-space.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Screen Space</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.40-graphing-tips.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Graphing Tips</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.50-dates-and-times.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Dates and Times</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.60-maps.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Maps</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.70-adjustment-and-control.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Adjustment and Control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.80-plugin-logistics.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Plugin Logistics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./06-projects-part.html" class="sidebar-item-text sidebar-link">Small Projects</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06.50-world-bank-data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">World Bank Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06.80-data-moves-portfolio.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Data Moves Portfolio</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./07-stats-part.html" class="sidebar-item-text sidebar-link">Prob and Stats</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07.10-binomial.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Probability and Binomial Simulator</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07.20-scrambling.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Scrambling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07.30-bootstrap.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Bootstrap</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07.40-inference-intermezzo.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Intermezzo</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07.60-tangerines-redux.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">More tangerines</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./21-portal-part.html" class="sidebar-item-text sidebar-link">Data Portals</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./21.10-census-acs.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Census and ACS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./21.20-BART.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">The BART Data Portal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./21.30-noaa-weather.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">The NOAA Weather Portals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./21.40-nhanes-portal.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">The NHANES Data Portal</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./31-other-cool-tools.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Other cool tools</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#the-problem-setup" id="toc-the-problem-setup" class="nav-link active" data-scroll-target="#the-problem-setup"><span class="toc-section-number">26.1</span>  The problem setup</a></li>
  <li><a href="#the-scrambling-strategy" id="toc-the-scrambling-strategy" class="nav-link" data-scroll-target="#the-scrambling-strategy"><span class="toc-section-number">26.2</span>  The scrambling strategy</a></li>
  <li><a href="#scramble-heights-13" id="toc-scramble-heights-13" class="nav-link" data-scroll-target="#scramble-heights-13"><span class="toc-section-number">26.3</span>  Your first scramble</a></li>
  <li><a href="#another-example-rain-in-seattle-and-portland" id="toc-another-example-rain-in-seattle-and-portland" class="nav-link" data-scroll-target="#another-example-rain-in-seattle-and-portland"><span class="toc-section-number">26.4</span>  Another example: rain in Seattle and Portland</a>
  <ul class="collapse">
  <li><a href="#making-a-formula-for-the-total-difference" id="toc-making-a-formula-for-the-total-difference" class="nav-link" data-scroll-target="#making-a-formula-for-the-total-difference"><span class="toc-section-number">26.4.1</span>  Making a formula for the total difference</a></li>
  <li><a href="#ready-to-scramble" id="toc-ready-to-scramble" class="nav-link" data-scroll-target="#ready-to-scramble"><span class="toc-section-number">26.4.2</span>  Ready to scramble!</a></li>
  </ul></li>
  <li><a href="#commentary" id="toc-commentary" class="nav-link" data-scroll-target="#commentary"><span class="toc-section-number">26.5</span>  Commentary</a>
  <ul class="collapse">
  <li><a href="#teaching-and-learning-scrambling" id="toc-teaching-and-learning-scrambling" class="nav-link" data-scroll-target="#teaching-and-learning-scrambling"><span class="toc-section-number">26.5.1</span>  Teaching and learning scrambling</a></li>
  <li><a href="#orthodox-vocabulary" id="toc-orthodox-vocabulary" class="nav-link" data-scroll-target="#orthodox-vocabulary"><span class="toc-section-number">26.5.2</span>  Orthodox vocabulary</a></li>
  <li><a href="#deconstructing-p-what-it-means-and-what-it-doesnt." id="toc-deconstructing-p-what-it-means-and-what-it-doesnt." class="nav-link" data-scroll-target="#deconstructing-p-what-it-means-and-what-it-doesnt."><span class="toc-section-number">26.5.3</span>  Deconstructing <span class="math inline">\(P\)</span>: What it means and what it doesn’t.</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="scrambler-chapter" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">The Scrambler: Randomization Tests</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

    <script src="src/awash-functions.js"></script>
<p>This is one of the deeper, more complex topics in this book. If you already understand about randomization-based inference, this will be easy. If not, it may take a while to sink in.</p>
<p>There is also the issue of how to make CODAP help you, that is, how to “drive” the scrambler plugin. If you just want driving instructions, open up the plugin (it’s in the <strong>Plugins</strong> tool) and press the blue “info” button.</p>
<p>In this chapter, we will first give a sort of minimal orientation and then step you through two examples that, I hope, straddle the border between driving instructions and revealing the underlying concepts.</p>
<section id="the-problem-setup" class="level2 page-columns page-full" data-number="26.1">
<h2 data-number="26.1" class="anchored" data-anchor-id="the-problem-setup"><span class="header-section-number">26.1</span> The problem setup</h2>
<p>Let us return to the heights data we looked at in <a href="#children-and-teens-1">one of our first lessons</a>. The dataset had measurements (including <code>height</code>) for 800 children and teens, ages 5–19.</p>
<p>We have set aside all but the 13-year-olds, and plotted the heights of the boys and the girls. On average, the boys are taller. Not <em>all</em> the boys are taller than <em>all</em> the girls—there is an overlap—but the overall trend is clear.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="art/scramble-13-height-by-gender.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><code>Height</code> for 59 13-year-olds.</figcaption><p></p>
</figure>
</div>
</div></div><p>And yet we wonder: this sample we have, of only 59 kids, does this difference reflect a real difference between all 13-year-old boys and girls? Or could it be that we got a difference this large <em>just by chance alone</em>?</p>
<p>Put another way, with slightly different language:</p>
<p>We believe there is an <em>association</em> between <code>Height</code> and <code>Gender</code>: boys are taller. We are concerned that the height difference we see might be due to chance alone, when in fact, there is <em>no</em> association.</p>
</section>
<section id="the-scrambling-strategy" class="level2" data-number="26.2">
<h2 data-number="26.2" class="anchored" data-anchor-id="the-scrambling-strategy"><span class="header-section-number">26.2</span> The scrambling strategy</h2>
<p>Here’s the plan:</p>
<p>We will create fantasy universe where is definitely <em>no</em> association, and see how big a difference we get. We’ll do this by <em>scrambling</em> the values in one of the columns (it doesn’t matter which). In our example, we will mix up all the <code>Genders</code> so that the <code>Male</code> and <code>Female</code> values are all randomly assigned. Then we’ll see how big the difference is between these “boys” and “girls,” knowing that <em>this</em> difference is definitiely by chance.</p>
<p>We will then re-scramble many times, recording the differences, and see how often we get a difference as large as we saw in the original data.</p>
<p>What difference, precisely, are we talking about? We get to decide. For this lesson, we will choose the <em>difference in mean heights</em>, which is 5.87 cm.</p>
<p>When we do this scramble, and randomly assign <code>Gender</code> to all of the <code>Height</code>s, we expect the difference to be 0.00, right? Not <em>exactly</em> zero, but close.</p>
<p>Let’s see what happens using CODAP’s <code>scrambler</code> plugin.</p>
</section>
<section id="scramble-heights-13" class="level2 page-columns page-full" data-number="26.3">
<h2 data-number="26.3" class="anchored" data-anchor-id="scramble-heights-13"><span class="header-section-number">26.3</span> Your first scramble</h2>
<p>We will do this <em>slowly</em>.</p>
<script>
    theURL = "https://codap.concord.org/app/static/dg/en/cert/index.html#shared=https://cfm-shared.concord.org/jEeBNIbK29v5XwtZdmhy/file.json";
    awash.codapInNewTab(theURL, "Click here to get a CODAP file to work with." );
</script>
<p>or use the live demo below. It will be cramped, but it’s doable! <br></p>
<p>You should already see:</p>
<ul>
<li>A table with 59 cases, with <code>Gender</code> and <code>Height</code> (just after <code>Weight</code> to the right).</li>
<li>A quantity to the left, <code>dMeanHeights</code>, with a value of 5.87. This is the (true) difference in mean heights between the males and females in the sample.</li>
<li>A box, the scrambler, with a number of controls. Importantl, it says that it’s OK to scramble <code>Gender</code>, that is, everything is set up correctly.</li>
<li>A blue information button in the scrambler itself. It opens a help page; you can use it later in your life when you get confused and these pages are not right in front of you.</li>
</ul>
<p>Do these steps:</p>
<ol type="1">
<li>Make a graph of <code>Height</code> (vertical axis) against <code>Gender</code>. Put means on the graph, and verify that the difference in means is about 6 cm. Make the graph <em>narrow</em>. you’ll need a lot of space!</li>
<li>In the scrambler, press the <strong>1x</strong> button. This does <em>one</em> scramble.</li>
</ol>
<p>A new table, <strong>measures_heights</strong> appears with one value under <code>dMeanHeight</code>. This value is the difference in mean heighhts in the “scrambled” dataset. But you can’t see the scrambled dataset right now! Let’s fix that:</p>
<ol start="3" type="1">
<li>Click the <strong>show scrambled</strong> button in the scrambler. The scrambled table appears. The value for <code>dMeanHeight</code> should match the one in the <strong>measures</strong> table.</li>
</ol>
<div class="column-page-right">
<script>
    theURL = "https://codap.concord.org/app/static/dg/en/cert/index.html#shared=https://cfm-shared.concord.org/jEeBNIbK29v5XwtZdmhy/file.json";
    awash.liveDemoAt(theURL);
</script>
</div>
<ol start="4" type="1">
<li>Scroll to the top of that table and verify that the <code>Gender</code> values are in fact scrambled!</li>
<li>Make a graph of <code>Height</code> against <code>Gender</code> for that table. Put the means on that graph. You will need to scrunch up some things to make them all fit!</li>
</ol>
<p>You should see that the means are closer together.</p>
<ol start="6" type="1">
<li>Press <strong>1x</strong> a few more times and see what happens. Notice that when you do, the <strong>measures_heights</strong> table records the new value of <code>dMeanHeight</code>.</li>
<li>Graph that <code>dMeanHeight</code> from <strong>measures_heights</strong>.</li>
<li>Press <strong>10x</strong> a few times to get more points in that graph.</li>
</ol>
<p>I did this for a total of 100 measures. My measures graph appears below. Yours will be different, of course, but should look more or less the same:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="art/scramble-dHeight-measures.png" class="img-fluid figure-img" style="width:60.0%"></p>
<p></p><figcaption class="figure-caption">Results from 100 scrambles. The “true” value of <code>dMeanHeight</code> is 5.87 cm</figcaption><p></p>
</figure>
</div>
<p><strong>This is the payoff</strong>: In the graph, you can see that at most three points are as extreme as the real data, the 5.87.</p>
<p>That is, <em>if there were no difference bewteen boys’ and girls’ heights</em>, we might see differences this large in 3% of our samples.</p>
<p>That small value (called the <span class="math inline">\(P\)</span> value) makes us <em>confident</em> that the mean height for <em>all</em> 13-year-old boys really is greater than the mean height for the girls.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Do you need to see the scrambled dataset?
</div>
</div>
<div class="callout-body-container callout-body">
<p>No.&nbsp;It helps when you’re first learning so you can see what’s going on, but once you get the hang of this, you only need to see the measures.</p>
<p>This will save a lot of screen space!</p>
</div>
</div>
</section>
<section id="another-example-rain-in-seattle-and-portland" class="level2 page-columns page-full" data-number="26.4">
<h2 data-number="26.4" class="anchored" data-anchor-id="another-example-rain-in-seattle-and-portland"><span class="header-section-number">26.4</span> Another example: rain in Seattle and Portland</h2>
<p>In the previous example, the scrambler plugin was all set up for you. This time, you’ll do it yourself.</p>
<p>Your data will be from the <a href="#noaa-chapter">NOAA plugin</a>, and consists of daily observations from two airports, Portland, Oregon (<code>PDX</code>) and Seattle-Tacoma (<code>SEA</code>), in 2021. The graph shows the daily precipitation, <code>precip</code>, in inches. My stereotype (and maybe yours) says that Seattle will be rainier.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="art/scrambler-rain-graph.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Daily rainfall in Seattle and Portland</figcaption><p></p>
</figure>
</div>
<p>What a weird-looking graph…but it makes sense. Many days have zero rainfall or only a little. How will we make sense of this? If we compare the mean, it looks as if Seattle has a higher mean rainfall, but not by a lot. Could that be due to chance?</p>
<p>We need a measure. Let’s compute the <em>total</em> yearly rainfall for the two cities. Then we could subtract those numbers to get a measure, maybe called <code>dRain</code>, that tells us how big the difference really is. How will we make that formula?</p>
<section id="making-a-formula-for-the-total-difference" class="level3" data-number="26.4.1">
<h3 data-number="26.4.1" class="anchored" data-anchor-id="making-a-formula-for-the-total-difference"><span class="header-section-number">26.4.1</span> Making a formula for the total difference</h3>
<p>We did something very similar before, for <code>dMeanHeight</code>. Let’s look at its formula:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="art/scrambler-dMeanHeight-formula.png" class="img-fluid figure-img" style="width:80.0%"></p>
</figure>
</div>
<p>You could do something analogous for this problem. But the formula is long and complicated and it’s easy to mess up. We’ll do this instead:</p>
<ul>
<li><p>Make one attribute for the total Portland rainfall (<code>PDXrain</code>) and a separate one for <code>SEArain</code>. You should <a href="#summary-without-groups">do this without dragging anything to the left</a>.</p>
<p>The formula for <code>PDXrain</code> is <code>sum(precip, where="PDX")</code>. Don’t forget the quotes! You might remember this syntax from the <a href="#implied-filters-section">summarizing chapter</a>.</p></li>
<li><p>Make a third new attribute, <code>dRain</code>, whose formula is simply</p></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>SEArain - PDXrain</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The right side of your table should look something like this:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="art/scramble-rain-table.png" class="img-fluid figure-img" style="width:80.0%"></p>
<p></p><figcaption class="figure-caption">Tim’s table showing rainfall in Portland and Seattle—and the difference <code>dRain</code></figcaption><p></p>
</figure>
</div>
<p>Your value for <code>dRain</code> should turn out to be 7.76, the amount that Seattle’s rainfall was bigger than Portland’s.</p>
</section>
<section id="ready-to-scramble" class="level3 page-columns page-full" data-number="26.4.2">
<h3 data-number="26.4.2" class="anchored" data-anchor-id="ready-to-scramble"><span class="header-section-number">26.4.2</span> Ready to scramble!</h3>
<ol type="1">
<li>Make the three new attributes as we described above.</li>
<li>Choose <strong>scrambler</strong> from the <strong>Plugins</strong> tool. It will complain that you need a measure dragged to the left.</li>
<li>Drag all three new attributes to the left.</li>
<li>Now it wants to know what attribute to scramble. We’ll scramble <code>where</code>. Drag <code>where</code> into the scrambler and drop it.</li>
</ol>
<div class="column-page-right">
<script>
    theURL = "https://codap.concord.org/releases/latest/static/dg/en/cert/index.html#shared=https%3A%2F%2Fcfm-shared.concord.org%2FtJ16KAphdD5ZuqURHTVX%2Ffile.json";
    awash.liveDemoAt(theURL);
</script>
</div>
<p>Now your scrambler is ready! It should look like the illustration in the margin. Proceed with your investigation.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="art/scrambler-set-for-sea-pdx.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Scrambler ready to scramble.</figcaption><p></p>
</figure>
</div>
</div></div><ol start="5" type="1">
<li>Start with one scramble to be sure it works. Look at the scrambled dataset if you want—but be sure to put it away before you scramble a lot; having it visible will slow the process down.</li>
<li>Graph your scrambled value of <code>dRain</code>.</li>
<li>Keep scrambling until you get 200 measures. Make sure the graph is updating so you see the distribution.</li>
<li>Let’s be smart about counting the extreme points this time. Do this:
<ul>
<li>In the ruler palette of the graph, press the <strong>Movable value</strong> button <em>twice</em> and <strong>Add</strong> it.</li>
<li>Move one of the movable values to –7.76 and the other to +7.76. You will see the range highlighted.</li>
<li>In the ruler, up at the top of the palette, click the boxes for <strong>Count</strong> and <strong>Percent</strong>.</li>
</ul></li>
</ol>
<p>My graph looks like this:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="art/scramble-rain-differences-sea-pdx.png" class="img-fluid figure-img" style="width:60.0%"></p>
<p></p><figcaption class="figure-caption">Scrambled <code>dRain</code> values. 23% were more extreme. Notice that if a point were at ±7.7, it would not look particularly unusual. It would <em>plausibly</em> be part of this dataset.</figcaption><p></p>
</figure>
</div>
<p>Interesting! My preconception—that Seattle is rainier—is right in that it got almost 8 inches more rain, but this analysis suggests that it might not be such a big deal.</p>
<p>More precisely, it suggests that if there were no association between the city and the rain, we would get a difference of 7.76 or more roughly a quarter of the time…</p>
<p>And things with a probability of 1/4 happen a lot.</p>
<p>Does that mean that Seattle is in fact not rainier? <strong>No.</strong> But it does mean that these data, on their own, are not enough to rule out chance.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Reflections
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>We could have made just one measures formula, with the subtraction, just as we did with the heights. But making two extra columns doesn’t cost you anything, and makes the formulas easier to understand.</p></li>
<li><p>You might wonder, why not drag <code>where</code> to the left and compute <code>totalRainfall</code> there? Then you’ll have one row for Portland and one for Seattle, each with its total rainfall.</p>
<p>True. And that’s exactly what we would do if we weren’t scrambling. But to scramble, we have to compute the <em>difference</em>. We can do that, but it’s a little more complicated. By all means, explore that possibility on your own!</p></li>
</ul>
</div>
</div>
</section>
</section>
<section id="commentary" class="level2" data-number="26.5">
<h2 data-number="26.5" class="anchored" data-anchor-id="commentary"><span class="header-section-number">26.5</span> Commentary</h2>
<p>There is a lot to think about with scrambling; here are several related topics.</p>
<section id="teaching-and-learning-scrambling" class="level3" data-number="26.5.1">
<h3 data-number="26.5.1" class="anchored" data-anchor-id="teaching-and-learning-scrambling"><span class="header-section-number">26.5.1</span> Teaching and learning scrambling</h3>
<p>Learning scrambling is partly about what commands to issue when. Mor important, however, is helping students understand what the software is accomplishing. That comes with time, but it’s worth it here to list what some of the understandings.</p>
<p>A scrambling situation and its solution have several elements:</p>
<ul>
<li>The problem involves some kind of difference between groups—or a difference between your data and some fixed value.</li>
<li>You need to create a <em>measure</em>, typically an attribute with a formula, that expresses the difference you’re investigating.</li>
<li>You need to choose an attribute to scramble; typically that’s the attribute that defines the groups.</li>
<li>The scrambler creates scrambled datasets and collects values of the measure. You have to decide how many times to scramble, that is, how many values will be in your distribution. This becomes the denominator in your <span class="math inline">\(P\)</span>-value; but the exact number doesn’t matter. It should be at least 100, and usually 400 is plenty.</li>
<li>To decide whether the difference is real, you must compare the true value of the measure (the test statistic) with the distribution you just collected. If the test statistic would be a typical value in that distribution, then the data are consistent with there being no difference.</li>
</ul>
<p>Maybe most important is a central concept we have not explicitly named: the <em>null hypothesis</em>. This is the fictional, alternate-universe situation in which there is no association between the groups and the measure: in this fantasyland, <code>gender</code> is not related to <code>height</code>; rainfall is not affected by whether you’re in Seattle or Portland. Scrambling makes the null hypothesis true, but in a stochastic way: there will be a difference between the groups, but that difference is due to chance alone. So it will be different every time—but not <em>too</em> different.</p>
<p>Understanding this can help students realize an important truth: in real life, the null hypothesis is <em>never</em> true. There is always <em>some</em> gender difference; the rainfall is <em>never</em> the same. We are only asking whether the true situation is <em>consistent</em> with the fantasy situation of no difference.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Modeling connection
</div>
</div>
<div class="callout-body-container callout-body">
<p>This is connected with modeling in that we make <em>probability models</em> all the time, in which, for example, a coin has a 50% chance of coming up heads.</p>
<p>But a coin <em>never</em> has a probability of exactly one half. It’s just close <em>enough</em> that we make predictions as if it were.</p>
</div>
</div>
<p><span class="inline-hed">The measure</span> The measure is where you get to be creative. The only requirement is that it apply to the entire dataset. That means it’s probably built out of “aggregate” functions such as <code>mean()</code>, <code>sum()</code>, or <code>count()</code>. Learning to write the formula for your measure is often the hardest part of this for many students.</p>
<p>I love the fact that we get to make our own measures out of something that makes sense in the context, such as the difference in total rainfall.</p>
<p>This is in contrast to more traditional, parametric tests such as <span class="math inline">\(t\)</span>. If you scramble, you don’t need to memorize formulas for <span class="math inline">\(t\)</span> or where the <span class="math inline">\((n-1)\)</span> goes. With scrambling, you also don’t worry about whether the distributions are Normal enough, because (unlike with <span class="math inline">\(t\)</span>) you are not relying on the Normal distribution to compute the <span class="math inline">\(P\)</span>-value.</p>
<p>Another wonder of this system is that you can scramble <em>any</em> measure. You can study a difference of means or a difference in sum, as we have done; but you could also look at a difference in medians using exactly the same logic; or compare two proportions, or even test for slope.</p>
</section>
<section id="orthodox-vocabulary" class="level3" data-number="26.5.2">
<h3 data-number="26.5.2" class="anchored" data-anchor-id="orthodox-vocabulary"><span class="header-section-number">26.5.2</span> Orthodox vocabulary</h3>
<p>If you study stats or teach an introductory course, including AP Statistics, outside this book and away from CODAP, you will use some specific terms for what we have been doing. We have gently steered away from some of the official vocabulary, but once you know what’s going on and want to learn more, it helps to know some of the words and phrases, if only so that you know what to look up.</p>
<p>Scrambling is a form of <em>simulation-based inference</em>, which is a thing. You can google it.</p>
<p>The tests we’ve been constructing are also called <em>randomization tests</em>.</p>
<p>The value of the measure, using the real data, is called the <em>test statistic</em>.</p>
<p>In a scrambled dataset, the <em>null hypothesis</em> is true.</p>
<p>The set of values of that measure when you scramble is called the <em>sampling distribution</em>.</p>
<p>The <em><span class="math inline">\(P\)</span>-value</em> is the proportion of cases in the sampling distribution that are at least as extreme as the test statistic.</p>
</section>
<section id="deconstructing-p-what-it-means-and-what-it-doesnt." class="level3" data-number="26.5.3">
<h3 data-number="26.5.3" class="anchored" data-anchor-id="deconstructing-p-what-it-means-and-what-it-doesnt."><span class="header-section-number">26.5.3</span> Deconstructing <span class="math inline">\(P\)</span>: What it means and what it doesn’t.</h3>
<p>The so-called <span class="math inline">\(P\)</span>-value is the proportion of scrambled samples that are <em>at least as extreme</em> as the <em>test statistic</em>. Looking back at the heights of 13-year-olds, the test statistic is the value of the difference taken from the real data, which is 5.87 (cm).</p>
<p>So to calculate <span class="math inline">\(P\)</span>, take the number of samples with differences (<code>dMeanHeight</code>) above <span class="math inline">\(5.87\)</span> or below <span class="math inline">\(–5.87\)</span>, and divide that by the number of samples. We saw three large values in 100 samples, so we get <span class="math inline">\(P = 0.03\)</span>.</p>
<p>With the rainfall, we got 46 out of 200 more extreme, or <span class="math inline">\(P = 0.23\)</span>. A much higher value.</p>
<section id="traditional-use-of-p" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="traditional-use-of-p">Traditional use of <span class="math inline">\(P\)</span></h4>
<p>From the scrambling experience, we see that if there are <em>few</em> scrambled samples as extreme as our data, that the difference in the data is more likely to be “real” and not due to chance alone.</p>
<p>That is, a <em>small</em> <span class="math inline">\(P\)</span>-value suggests that the effect is real. For many people, a <span class="math inline">\(P\)</span> that’s less than 0.05 satisfies them. That “0.05 limit” has come under a lot of fire in the 21st Century, so avoid it if you can.</p>
<p>But you can say that the smaller the <span class="math inline">\(P\)</span>-value, the more “confidence” you have in the result.</p>
</section>
<section id="p-caution-nuance-and-depth" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="p-caution-nuance-and-depth"><span class="math inline">\(P\)</span>: Caution, nuance, and depth</h4>
<p>The true meaning of <span class="math inline">\(P\)</span> is exactly what we said:</p>
<blockquote class="blockquote">
<p><em>If there were no difference bewteen boys’ and girls’ heights</em>, we might see differences this large in 3% of our samples.</p>
</blockquote>
<p>The big mistake many students make is to think that it means this:</p>
<blockquote class="blockquote">
<p>There is a 3% chance that there is no difference between the boys and the girls. (<strong>this is wrong</strong>)</p>
</blockquote>
<p>The problem with the right meaning is that it’s kind of twisted and subjunctive, all that “if there <em>were</em> no difference…” stuff. It doesn’t tell us what we really want to know, which is more like,</p>
<blockquote class="blockquote">
<p>If I said that the boys are taller than the girls, what’s the chance that I’m wrong?</p>
</blockquote>
<p>That question is the province of <em>Bayesian</em> statistics, which is not usually a part of the introductory course.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./07.10-binomial.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Probability and Binomial Simulator</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./07.30-bootstrap.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Bootstrap</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>