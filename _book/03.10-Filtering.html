<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Awash in Data - 8&nbsp; Filtering and Selection</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./03.20-Grouping.html" rel="next">
<link href="./03-datamove-part.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="awash.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Filtering and Selection</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Awash in Data</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./01-lesson-part.html" class="sidebar-item-text sidebar-link">Lessons</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01.10-start.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Getting Started with CODAP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01.20-teens.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">800 Children and Teens, part&nbsp;one</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01.30-assignment-1.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">A First Assignment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01.40-teens2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">800 Children and Teens, part&nbsp;two</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01.50-assignment-2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">A Second Assignment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01.60-project.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">A Small Project</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./03-datamove-part.html" class="sidebar-item-text sidebar-link">Data Moves</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03.10-Filtering.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Filtering and Selection</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03.20-Grouping.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Grouping</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03.30-Calculating.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Calculating and Recoding</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03.40-Summarizing.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Summarizing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03.50-Joining.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Joining</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03.60-preparing-and-cleaning.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Munging data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03.70-visualization.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Visualizing and Communicating</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./04-codap-part.html" class="sidebar-item-text sidebar-link">CODAP Topics</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.10-types-of-attributes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Types of Attributes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.20-save-import-export-share.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Files: Copy, Save, Import, Export, Share</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.30-screen-space.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Screen Space</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.40-graphing-tips.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Graphing Tips</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.50-dates-and-times.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Dates and Times</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.60-maps.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Maps</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.70-adjustment-and-control.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Adjustment and Control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.80-plugin-logistics.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Plugin Logistics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./06-projects-part.html" class="sidebar-item-text sidebar-link">Small Projects</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06.50-world-bank-data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">World Bank Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06.80-data-moves-portfolio.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Data Moves Portfolio</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./07-stats-part.html" class="sidebar-item-text sidebar-link">Prob and Stats</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07.10-binomial.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Probability and Binomial Simulator</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07.20-scrambling.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Scrambling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07.30-bootstrap.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Bootstrap</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07.40-inference-intermezzo.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Intermezzo</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07.60-tangerines-redux.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">More tangerines</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./21-portal-part.html" class="sidebar-item-text sidebar-link">Data Portals</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./21.10-census-acs.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Census and ACS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./21.20-BART.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">The BART Data Portal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./21.30-noaa-weather.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">The NOAA Weather Portals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./21.40-nhanes-portal.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">The NHANES Data Portal</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./31-other-cool-tools.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Other cool tools</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#selection-as-filtering" id="toc-selection-as-filtering" class="nav-link active" data-scroll-target="#selection-as-filtering"><span class="toc-section-number">8.1</span>  Selection as Filtering</a></li>
  <li><a href="#hiding" id="toc-hiding" class="nav-link" data-scroll-target="#hiding"><span class="toc-section-number">8.2</span>  Filtering by Hiding</a></li>
  <li><a href="#setting-aside" id="toc-setting-aside" class="nav-link" data-scroll-target="#setting-aside"><span class="toc-section-number">8.3</span>  Filtering by Setting Aside</a></li>
  <li><a href="#initial-choice-section" id="toc-initial-choice-section" class="nav-link" data-scroll-target="#initial-choice-section"><span class="toc-section-number">8.4</span>  Importing Data: Initial Choice as&nbsp;Filtering</a></li>
  <li><a href="#commentary" id="toc-commentary" class="nav-link" data-scroll-target="#commentary"><span class="toc-section-number">8.5</span>  Commentary</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="filtering-and-selection-chapter" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Filtering and Selection</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

    <script src="src/awash-functions.js"></script>
<p>This chapter reflects on the <em>filtering</em> data move and then discusses the various ways to filter data in CODAP. There are four basic techniques: <a href="#selection-as-filtering"><em>selection</em></a>, <a href="#hiding"><em>hiding</em></a>, <a href="#setting-aside"><em>setting aside</em></a>, and through <a href="#initial-choice-section"><em>initial choice</em></a>.</p>
<p>In data analysis, filtering often means looking at a subset of the data in order to pay closer attention to that subset. We can use other words to describe this such as <em>focusing</em> and <em>slicing</em>.</p>
<p>Whatever word you use, filtering does several things. First, it can help you explore the data by focusing on only part of it; if your data shows lots of different things happening, that can be confusing. But purposeful (or lucky) filtering can make what’s going on clear by shedding light on only one thing.</p>
<p>For example, remember the heights data? When we look at our entire data set and plot <code>height</code> against <code>age</code>, we get kind of a mess. But when we look at only the 10-year-olds—when we <em>filter</em> the data set to show only the tens, we get something clear.</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="art/02-HeightByAgeWithGender.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Height and age data, unfiltered</figcaption><p></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="art/02-HeightByGenderAge10.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Same data, but just 10-year-olds</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div>
<p>Of course the right-hand graph doesn’t show us everything that’s happening in the more complete graph on the left. But it points us in a direction: it suggests that <em>one</em> way to look at the data is to compare the means of all the people at each age. That is, the graph of the tens helps us decide what to do about the rest of the ages. A different filtering might have led us in a different direction.</p>
<p>Another, related purpose for filtering is to focus only on <em>relevant</em> data. We often get data sets that have data that go beyond the scope of our investigation. For example, if we were doing a study about heights of children in elementary school, we might get rid of all the teenagers in our data set.</p>
<p>Notice that the first, exploratory filtering might be temporary—in place just to help us decide what to do—whereas the second—excluding irrelevant data—might be permanent.</p>
<p>But whatever reason for filtering, notice that a good filter helps you cope with awash-ness. For one thing, it reduces the number of cases you’re looking at, and a graph with fewer points is often (but not always) easier to understand. The filter may also clarify a graph by removing data that, because they come from a different phenomenon, obscure the phenomenon you’d like to see.</p>
<section id="selection-as-filtering" class="level2 page-columns page-full" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="selection-as-filtering"><span class="header-section-number">8.1</span> Selection as Filtering</h2>
<p>You might not think of selection as filtering, but in CODAP it can serve that purpose. That’s because of CODAP’s <em>synchronous selection</em>. Whatever you select in one view of the data gets selected in all views. So if you select points in one graph, they will be selected in all graphs and in the table.</p>
<p>The live example below shows some US Census data from 2010. We see a table, a graph of <code>Age</code>, and a graph of <code>Marital_status</code>.</p>
<ol type="1">
<li>Click on the “Widowed” bar to select all the widowed people. Notice what happens in the <code>Age</code> graph.</li>
<li>Click on “Never married.” See how the selection changes.</li>
<li>Notice that one of the never-married people is in the oldest clump. Who is that? Select that single point in the graph (the bottom one at age 94; you may need to click elsewhere first to de-select all those widows). See how he is selected in the table? Looking in the table, we can see that he lives in New Jersey.</li>
</ol>
<div class="column-page-right">
<script>
    theURL = "htmls-and-sources/age-and-marital-status-selection.html";
    awash.liveDemoAt(theURL);
</script>
</div>
<p>The point is that when you select points in a graph or the table, the visual selection—the highlighting on the screen—lets you focus on the selected cases. Although this is not what we usually think of as <em>filtering</em>, it’s a dynamic way to accomplish the same thing—and even a little more, because you can naturally compare the selected points to the plain ones.</p>
<blockquote class="blockquote">
<p>Note: it was easy to select the whole group because we “fused” the dots into bars. It would still work if they were dots, but instead of clicking on the bar to select, you would have had to drag a rectangle around the points you wanted. Want to learn more about making bars? <a href="xxx">Here’s a link</a>. (xxx)</p>
</blockquote>
<p>In this process we often want to select whole groups, as you did when you clicked on the bar for widows. It’s worth taking a moment to remember how to select groups in the table.</p>
<p>To do that effectively, you have to rearrange the table. The next example has the same data, but no graph of marital status.</p>
<p>We can still select the widows. Try this:</p>
<ol type="1">
<li><p>In the table, drag the <code>Marital_status</code> column head leftward in the table, and drop it in the clear patch at the left edge of the table. The “drop zone” will turn yellow when you’re over the right place</p></li>
<li><p>You have reorganized the table, making it <em>hierarchical</em>. Now, when you click on the word “Widowed” in the left column, you will select <em>all</em> of the widows and widowers, in the table and in the <code>Age</code> graph.</p></li>
</ol>
<div class="column-page-right">
<script>
    theURL = "htmls-and-sources/age-no-marital.html";
    awash.liveDemoAt(theURL);
</script>
</div>
<div class="datamove">
<p>That “drag left” gesture is an example of <em>grouping</em>, a different data move we discuss in more detail <a href="#grouping-chapter">in the next chapter</a>. If you make groups in this way, it’s easy to select the group in order to highlight it in different views of the data.</p>
</div>
</section>
<section id="hiding" class="level2 page-columns page-full" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="hiding"><span class="header-section-number">8.2</span> Filtering by Hiding</h2>
<p>CODAP lets you hide data in graphs. Often, a <em>filtering</em> move involves either</p>
<ul>
<li>Selecting the points you want to hide, and hiding them, or</li>
<li>selecting the points you want to see and hiding the rest.</li>
</ul>
<p>Both of those involve selecting, which is why we mentioned selection first.</p>
<p>In the next example, we’re comparing income by gender. We see that the median income for men is higher than that for women. In the graph, you can see that there are lots of people that make almost no money. Maybe the low median for women is because there are so many women who do not work outside the home, and have no “official” income.</p>
<p>We can filter using a different attribute; in our table, we have <code>Employment_status</code>, which has values that will let us look at only those people who are employed.</p>
<ol type="1">
<li>In the table, drag <code>Employment_status</code> to the left and drop it in the yellow zone at the left edge of the table.</li>
<li>In the <code>Employment_status</code> column, select the employed people by clicking on “Employed”.</li>
<li>Click on the title bar of the <em>income graph</em> to select it. The “palettes” appear on the right side of the graph.</li>
<li>Go to the “eyeball” palette on the right and click it. A menu appears.</li>
<li>Choose <strong>Hide Unselected Cases</strong>.</li>
</ol>
<p>When you do that, only the employed people remain in that graph. The median incomes for men and women both increase—but men still generally earn more.</p>
<div class="column-page-right">
<script>
    theURL = "htmls-and-sources/income-gender-employment-hiding.html";
    awash.liveDemoAt(theURL);
</script>
</div>
<p>Now suppose we decide that we want to exclude people under about 25 because they haven’t had a chance to get enough education to earn more.</p>
<ol type="1">
<li>In the <code>Age</code> graph, select all the people up to about age 25. Do this by dragging a rectangle around the cases you want to select. If you’ve never done this before, it may take a couple of tries to develop a good strategy. One is to start at the upper right of the rectangle you want, then drag down and to the left.</li>
<li>Change back to the income graph by clicking in its title bar.</li>
<li>In the eyeball palette, choose <strong>Hide Selected Cases</strong>.</li>
</ol>
<p>Again, the incomes readjust.</p>
<p>You can always get cases back by going to the eyeball and choosing <strong>Show All Cases</strong>.</p>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>When we hid the unemployed people in that first (income) graph, they only vanished <em>in that graph</em>. They were still there in the other graph. That’s why we switched back to the income graph when we had selected the younger people in the age graph; if we had done the “hide” in the age graph, they would have disappeared there and remained in the income graph.</p>
</div>
</div>
</section>
<section id="setting-aside" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="setting-aside"><span class="header-section-number">8.3</span> Filtering by Setting Aside</h2>
<p>“Setting aside” in CODAP is very much like hiding, but it’s conceptually different in an important way:</p>
<blockquote class="blockquote">
<p>When you <em>hide</em> cases, you’re telling CODAP not to show them <em>in one particular graph</em>. When you <em>set aside</em> cases, CODAP will ignore them <em>in all graphs and calculations</em>.</p>
</blockquote>
<p>That means you could use hiding to, for example, make one graph of just the employed people and then another, separate graph of just the unemployed.</p>
<p>But if you have data you want to filter out for your entire analysis—for example, if you’re studying employed people over 25, and you don’t want to keep having to hide all the unemployed and the graduate students, you should <em>set aside</em> those cases and proceed.</p>
<p>You can always get set aside cases back.</p>
<p>Set cases aside by</p>
<ol type="1">
<li>selecting them, then</li>
<li>making sure the table is selected (e.g., by clicking in its title bar), and finally</li>
<li>going to the eyeball palette of the <strong>table</strong> and choosing an appropriate option.</li>
</ol>
<blockquote class="blockquote">
<p>Remember: to hide cases, use the eyeball palette of the <strong>graph</strong>. To set them aside, do it in the <strong>table</strong>.</p>
</blockquote>
</section>
<section id="initial-choice-section" class="level2" data-number="8.4">
<h2 data-number="8.4" class="anchored" data-anchor-id="initial-choice-section"><span class="header-section-number">8.4</span> Importing Data: Initial Choice as&nbsp;Filtering</h2>
<p>When you import data from a big data site, or from a CODAP plugin data portal such as the one for BART data or US Census data, you often have to specify which data you want. This is essential because CODAP, at least, cannot handle the entire dataset. It’s too big. For example, as of this writing, the BART data has 40 million records.</p>
<p>A data portal typically has controls, at the outset, where you choose what data you want. You make your choices, and then press some button labeled, essentially, <strong>get my data</strong>. The site creates a data <em>request</em> and then, if the request is OK, your data appears. If it’s a CODAP plugin, the data shows up in a table. If it’s on the web, it may create a <strong>.csv</strong> file or the equivalent, that you can import into your favorite data analysis program. If that’s CODAP, simply drag the file into the window.</p>
<p>Anyway, about those initial choices:</p>
<ul>
<li>You might get to control what attributes (a.k.a. variables, columns in your tabe) will appear in the data you get.</li>
<li>You might get to control what cases (rows in the table) will be part of the dataset.</li>
</ul>
<p>It’s good to keep that distinction in mind; and here we’re talking about the second of those bullets: controlling which cases you get.</p>
<p>For example, with the BART data plugin, you can specify what day you want data from, and for which stations. That way you get April 18, 2018 from Orinda to Embarcadero (19 cases) instead of all 40 million. Much more manageable. Less awash.</p>
<p>Making that choice up front is kind of like doing a massive “set aside” operation. If you <em>could</em> start with all 40 million cases, you might first select the day and choose <strong>Set Aside Unselected Cases</strong>; then select the starting station, Orinda, and set aside the others; and finally select the destination, Embarcadero.</p>
<p>But the choosing the data first makes the subsequent analysis feel different. When you use the portal, you’re proactively deciding what you want instead of eliminating what you don’t want. It’s more like adding clay to a model than sculpting in stone. As a consequence, data analysis using a data portal is more <em>accretion</em> than <em>exclusion</em>. You get a little data and see what it looks like; you wonder whether April 19 is the same as April 18, so you get that too, adding to the data you’re working with; then you wonder whether a weekend day is different, and add the 21st (which was a Saturday). Then you decide you want a year of Wednesdays, but only between 5 and 11 AM…and so forth.</p>
<p>The plus side of this, from a pedagogical point of view (whether you are teaching yourself or others) is that the learner has to think about the process a little more, and do some planning. They get to apply their knowledge of the world as part of imagining what the data might look like. Furthermore, they get to start with something familiar, wading into the ocean of data at the beach instead of falling in miles from shore.</p>
<p>The downside is that if you only look at the data you know you want, you might miss an important and relevant phenomenon that happened outside the data you requested. More insidiously, some students might not get the data they need in order to <em>control</em> for other variables. More on that elsewhere xxx.</p>
</section>
<section id="commentary" class="level2" data-number="8.5">
<h2 data-number="8.5" class="anchored" data-anchor-id="commentary"><span class="header-section-number">8.5</span> Commentary</h2>
<p>A huge dataset is totally characteristic of data science. And the hugeness of a dataset certainly contributes to feeling awash in data.</p>
<p>Filtering, by its very nature, reduces the number of cases you’re looking at, so it can be an antidote to awash-ness if you filter with a purpose.</p>
<p>xxx more?</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./03-datamove-part.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Data Moves</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./03.20-Grouping.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Grouping</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>